function add_tag(e){switch(e){case"image":open_tag="[img]",close_tag="[/img]",wrapText("body",open_tag,close_tag);break;case"yt":open_tag="[yt]",close_tag="[/yt]",wrapText("body",open_tag,close_tag);break;case"bold":open_tag="[b]",close_tag="[/b]",wrapText("body",open_tag,close_tag);break;case"italic":open_tag="[i]",close_tag="[/i]",wrapText("body",open_tag,close_tag);break;case"underline":open_tag="[u]",close_tag="[/u]",wrapText("body",open_tag,close_tag);break;case"url":open_tag="[url]",close_tag="[/url]",wrapText("body",open_tag,close_tag);break;case"code":open_tag="[code]",close_tag="[/code]",wrapText("body",open_tag,close_tag)}return document.getElementById("body").focus(),null}function wrapText(e,t,a){var o=$("#"+e),n=o.val().length,s=o[0].selectionStart,c=o[0].selectionEnd,r=o.val().substring(s,c),g=t+r+a;o.val(o.val().substring(0,s)+g+o.val().substring(c,n));var l=t.length,i=a.length;if(s==c){var _=l;o.setCursorPosition(s+_)}else{var _=l+i;o.setCursorPosition(c+_)}}$.fn.setCursorPosition=function(e){return this.each(function(t,a){if(a.setSelectionRange)a.setSelectionRange(e,e);else if(a.createTextRange){var o=a.createTextRange();o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select()}}),this};
